# 补给瑆（SupplyStar）需求文档

文档版本：1.0  
最后更新：2026-01-24

---

## 1. 模块愿景
- 管理日常清单与物品库存（数量/分类/价格），支持购物流程与习惯协同。

## 2. 功能矩阵（摘自 MODULE_REQUIREMENTS.md）
- 进行中：添加/查看/编辑/删除物品、数量跟踪。
- 计划中：购买标记、分类、价格跟踪、智能提醒。
- 未来：习惯集成、清单分享、条码扫描、价格比较。

## 3. 共同要求（统一落地）
- 门户返回导航与品牌 Logo 一致：参考 UI/UX 增强与跨模块统一要求。
- 鉴权与校验：JWT、输入验证、错误处理与加载状态。

## 4. 页面与接口参考
- 前端路径：web/app/portal/supply/page.tsx（入口与返回导航）。
- 后端接口：server/routers/supply.py（RESTful，JSON 输入/输出，JWT）。

## 5. 验收标准
- 用户能够对物品清单进行基本 CRUD 与数量维护。
- 关键路径 E2E 打通；页面导航与品牌一致，接口响应达标。

## 6. 具体验收用例（供 QA/E2E 复用）

### 用例 A：添加物品并维护数量
- 前置：用户已登录并进入门户。
- 步骤：
	1. 进入补给瑆页面（portal/supply）。
	2. 点击“新增物品”，输入名称“牛奶”，数量“2”，分类“食品杂货”。
	3. 保存后在列表中显示该物品，数量为 2。
	4. 将数量调整为 3，保存后列表中显示为 3。
- 期望：接口返回 200；页面列表实时更新；数量变更持久化。

### 用例 B：编辑与删除物品
- 前置：存在“鸡蛋（数量 12）”。
- 步骤：
	1. 编辑分类为“食品杂货”，备注“本周购买”。
	2. 保存后查看详情，字段更新正确。
	3. 删除该物品，列表中不再显示。
- 期望：编辑/删除接口 200；页面状态与服务端一致；删除不可恢复（或提供确认）。

### 用例 C：购买标记与分类筛选（规划验证）
- 前置：存在多个分类的物品（食品杂货/用品）。
- 步骤：
	1. 将“牙膏”标记为已购买。
	2. 在列表中按分类筛选，仅显示“食品杂货”。
- 期望：购买状态在 UI 中有明显标识；筛选结果正确（规划项可用作设计验收）。

### 用例 D：异常与校验
- 输入为空或不合法时，给出清晰的错误提示（前后端一致）。
- 服务端返回错误（4xx/5xx）时，页面展示错误消息并可重试。
- 必要字段（名称/数量）必填且类型正确；数量为非负整数。

### 用例 E：导航与一致性
- 所有页面提供返回门户的入口；侧边栏/页头展示统一 Logo 与标题。
- 移动端/桌面端均表现一致（响应式布局），键盘可操作性达标。

## 7. 后续规划
- 分类/价格/提醒能力完善；与习惯/共享等协同场景打通。
