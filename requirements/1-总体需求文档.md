# 总体需求文档

文档版本：1.0  
最后更新：2026-01-24

---

## 1. 项目概览
- 平台愿景：统一 2C 平台（PC/移动/PWA/原生）为上班族提供 AI 便利。
- 技术栈：后端 FastAPI（Python），前端 Next.js（TS），测试（pytest/jest/Playwright），数据库（Dev: SQLite / Prod: PostgreSQL）。
- 架构：Bazel Monorepo，前后端与文档目录清晰分层。

## 2. 核心模块与范围
- Auth / 认证
- Portal / 门户
- SurveyStar（问卷瑆）/ 问卷
- Accounting（代账王）/ 记账
- CareerDev（工作珄）/ 职业发展
- SupplyStar（补给瑆）/ 供应/清单

## 3. 跨模块统一要求
- Logo 与品牌：门户与模块页面统一展示品牌 Logo 与标题。
- 导航返回：所有模块页面提供返回门户的统一入口。
- 响应式设计：移动/平板/桌面一致体验。
- 鉴权与安全：JWT、输入校验、错误处理、CORS。
- 国际化：多语言支持（进行中），语言持久化与自动检测（进行中）。

## 4. 完成度摘要（摘自索引与变更表）
- 参考：REQUIREMENTS_INDEX.md 与 REQUIREMENTS_CHANGELOG.md 的状态汇总。
- 截止 2026-01-22：总功能 93、已完成 47、进行中 5、计划中 25、未来 16，完成率 50.5%。

## 5. 最新已落地变更（摘要）
- CareerDev：修复保存申请（字段名、时间戳默认值、鉴权校验、页面检查、Pydantic v2 配置），并通过 6/6 E2E。
- Portal & 跨模块：加入 Logo 与统一返回导航，提升一致性与可用性。
- Survey：完整修复闭环（创建—提交—查看），含提交格式问题修复与改进总结（详见 SURVEY_*）。

## 6. 验收与测试
- 核心路径 E2E 必备；关键用例通过率 100%，覆盖率 ≥ 80%。
- 前端（jest/Playwright）、后端（pytest）分层测试与报告出具。

## 7. 参考与链接
- 规范总览：[REQUIREMENTS.md](REQUIREMENTS.md)
- 模块矩阵：[MODULE_REQUIREMENTS.md](MODULE_REQUIREMENTS.md)
- 变更日志：[REQUIREMENTS_CHANGELOG.md](REQUIREMENTS_CHANGELOG.md)
- 索引导航：[REQUIREMENTS_INDEX.md](REQUIREMENTS_INDEX.md)
- 典型修复：
  - [CAREER_MODULE_FIX.md](CAREER_MODULE_FIX.md)
  - [SURVEY_COMPLETE_FIX.md](SURVEY_COMPLETE_FIX.md)
  - [SURVEY_SUBMIT_FIX.md](SURVEY_SUBMIT_FIX.md)
  - [SURVEY_VIEW_LIVE_SOLUTION.md](SURVEY_VIEW_LIVE_SOLUTION.md)
  - [TEST_IMPROVEMENT_SUMMARY.md](TEST_IMPROVEMENT_SUMMARY.md)
  - [UI_UX_ENHANCEMENT_SUMMARY.md](UI_UX_ENHANCEMENT_SUMMARY.md)
